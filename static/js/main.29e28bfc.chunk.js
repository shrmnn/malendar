(this.webpackJsonpmalendar=this.webpackJsonpmalendar||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow.2c511b88.svg"},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/moon.d58b953a.svg"},function(e,t,a){e.exports=a.p+"static/media/fourzerofour.29291068.webp"},function(e,t,a){e.exports=a(45)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),i=a.n(l),o=(a(32),a(8)),c=a(1),m=(a(33),function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{id:"HeaderContainer"},r.a.createElement(o.b,{"aria-label":"Site logo / homepage button",className:"Logo",to:"/malendar/",alt:"To homepage",title:"Homepage (SPA mode)"},r.a.createElement("div",{className:"Header__Logo--M"},"M"),"C"),r.a.createElement("nav",{className:"Menu"},r.a.createElement(o.c,{"aria-label":"Link to update feed",className:"Menu",to:"/malendar/news",title:"News",activeClassName:"Header--active",replace:!0},"What's new"),r.a.createElement(o.c,{"aria-label":"Link to about page",className:"Menu",to:"/malendar/about",title:"About",activeClassName:"Header--active"},"About"))))}),s=a(12),u=a(7),d=a.n(u),h=a(10),f=a(9),y=a(2),g=(a(40),a(15)),E=new function e(){var t=this;Object(g.a)(this,e),this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.getRandomMonth=function(e){var a=t.months[Math.ceil(11*Math.random())];return a===e.month&&(a=t.getRandomMonth(e)),a},this.getSeasonByMonth=function(e){return"January"===e||"February"===e||"March"===e?"winter":"April"===e||"May"===e||"June"===e?"spring":"July"===e||"August"===e||"September"===e?"summer":"fall"},this.getCurrentMonth=function(){return t.months[(new Date).getMonth()]},this.getLastDayOfMonth=function(e,a){return new Date(a,t.convertToLocale("en-US",new Date("".concat(e," 01 ").concat(a))).getMonth()+1,0).getDate()},this.convertToLocale=function(e,t){return new Date(new Date(t).toLocaleString(e))},this.convertToJapanTime=function(e){return new Date(e).toLocaleString("en-US",{timeZone:"Japan"})},this.getFirstWeekDayOfMonth=function(e,a){return new Date(t.convertToLocale("en-US","".concat(e," 01 ").concat(a))).getDay()}},b=new function e(){var t=this;Object(g.a)(this,e),this.getCurrentYear=function(){return(new Date).getFullYear()},this.getRandomYear=function(e){var a=Math.ceil(15*Math.random())+2e3;return a===e.year&&(a=t.getRandomYear(e)),a}},p=new function e(){var t=this;Object(g.a)(this,e),this.titlelist=[],this.animecontroller=new AbortController,this.animeScissors=function(){var e=Object(h.a)(d.a.mark((function e(a,n,r){var l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSeason(a,n);case 2:return l=e.sent,e.next=5,t.getAnimelist(l,r,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.getSeason=function(){var e=Object(h.a)(d.a.mark((function e(a,n){var r,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.animecontroller.signal,e.prev=1,e.next=4,fetch("".concat("").concat("https://malendar.herokuapp.com/","season/").concat(a,"/").concat(n,"/"),{signal:r}).then((function(e){return 429===e.status&&console.log("Too many requests!"),e.ok||console.error("Could not fetch!"),e}));case 4:return l=e.sent,e.next=7,l.json();case 7:return i=e.sent,e.abrupt("return",i.anime);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),this.getAnimelist=function(e,a,n){var r=[];for(var l in r.push(e.map((function(e){return e}))),r=r[0])r[l]={id:r[l].mal_id,title:r[l].title,airing:E.convertToJapanTime(r[l].airing_start),image:r[l].image_url,studio:r[l].producers[0],members:r[l].members,titleArray:[]};return t.titlelist=r,t.getAnimeByMonth(a,n),!0},this.sortAnime=function(e){void 0===e&&(e=3);var a=Object(f.a)(t.titlelist);0===e?a.sort((function(e,t){return e.title>t.title?1:e.title<t.title?-1:0})):1===e?a.sort((function(e,t){return e.members>t.members?1:e.members<t.members?-1:0})):a.sort((function(e,t){return e.airing>t.airing?1:e.airing<t.airing?-1:0})),t.titlelist=Object(f.a)(a)},this.getAnimeByMonth=function(e,a){t.sortAnime(1);var n=Object(f.a)(t.titlelist).reverse(),r=[];r.length=E.getLastDayOfMonth(e,a),r=t.fillNewList(r);var l=new Date("01 ".concat(e," ").concat(a)).getTime(),i=new Date("".concat(E.getLastDayOfMonth(e,a)," ").concat(e," ").concat(a)).getTime();n.forEach((function(e,t){var a=new Date(e.airing).getTime();return a<=i&&a>=l&&(e.day=new Date(e.airing).getDate(),r[e.day-1].id?(r[e.day-1].multi=!0,r[e.day-1].titleArray.push(e)):r[e.day-1]=e,!0)})),t.titlelist=Object(f.a)(r)},this.fillNewList=function(e){var t=Object(f.a)(e);return t.fill({id:"",title:"",airing:"",image:"",studio:{name:""},multi:!1,titleArray:[]},0,t.length),t}},v=function(e){return Object(n.useEffect)((function(){return document.body.classList.add("--overflow"),function(){document.body.classList.remove("--overflow")}}),[]),r.a.createElement("div",{"aria-label":"loading...",className:"Loading"},e.error.error?"Error has occurred(\u2565\ufe4f\u2565)":"(\u3063\u25d4\u25e1\u25d4)\u3063 \ud83c\udf5c",e.error.code?console.log(e.error.code):null)},_=a(16),D=a.n(_),w=r.a.memo((function(e){var t=Object(c.f)();return r.a.createElement("div",{"aria-label":"head navigation",className:"HeadContainer"},r.a.createElement("div",{className:"HeadContainer__DateNav"},e.withParams?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:function(){return t.push("/malendar/".concat(e.changeDate(-1,!0)))},title:"Previous month"},r.a.createElement("img",{alt:"back-arrow",style:{transform:"rotate(180deg)"},src:D.a})),r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:function(){return t.push("/malendar/".concat(e.changeDate(1,!0)))},title:"Next month"},r.a.createElement("img",{alt:"fur-arrow",src:D.a})),r.a.createElement("div",{"aria-label":"select month",className:"HeadContainer__DateNav_DateMonth",onClick:function(){return t.push("/malendar/".concat(e.monthClick(!0)))},title:"Click for random month"},e.date.month),r.a.createElement("div",{"aria-label":"select year",className:"HeadContainer__DateNav_DateYear",onClick:function(){return t.push("/malendar/".concat(e.yearClick(!0)))},title:"Click for random year"},e.date.year)):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:e.changeDate.bind(void 0,-1),title:"Previous month"},r.a.createElement("img",{alt:"back-arrow",style:{transform:"rotate(180deg)"},src:D.a})),r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:e.changeDate.bind(void 0,1),title:"Next month"},r.a.createElement("img",{alt:"fur-arrow",src:D.a})),r.a.createElement("div",{"aria-label":"select month",className:"HeadContainer__DateNav_DateMonth",onClick:e.monthClick,title:"Click for random month"},e.date.month),r.a.createElement("div",{"aria-label":"select year",className:"HeadContainer__DateNav_DateYear",onClick:e.yearClick,title:"Click for random year"},e.date.year))),r.a.createElement("div",{"aria-label":"select if you want to see ongoing or new releases",className:"HeadContainer__ReleaseNav"},r.a.createElement(o.c,{"aria-label":"Ongoing page (WIP)",className:"padding-left",exact:!0,to:"/malendar/ongoing",activeClassName:"HeadContainer__ReleaseNav--active",title:"WIP"},"Ongoing"),r.a.createElement(o.c,{strict:!0,"aria-label":"New Releases",className:"padding-right",to:"/malendar/".concat(e.date.year).concat("/"+e.date.month),activeClassName:"HeadContainer__ReleaseNav--active",title:"New Releases (pages mode)"},"New releases")))})),k=function(e){var t=Object(n.useState)(null),a=Object(y.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=new Image;try{t.src=e,t.onload=function(){return l(e)}}catch(a){console.log(a)}}),[e]),r};var N=function(e,t){var a=r.a.useState((function(){var a=window.localStorage.getItem(t);return null!==a?JSON.parse(a):e})),n=Object(y.a)(a,2),l=n[0],i=n[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(l))}),[t,l]),[l,i]},C=r.a.memo((function(e){var t=e.ani,a=Object(y.a)(e.month,2),n=a[0],l=a[1],i=N(t.image,t.id),o=Object(y.a)(i,1)[0],c=k(t.image.split(".jpg")[0]+"l.jpg"),m={background:"linear-gradient(180deg, rgba(0,0,0,0) 0%, #0E0E0E 105%), url(".concat(t?c||o:"",") center center / cover no-repeat")};return r.a.createElement("section",{"aria-label":t.id?"[".concat(t.id,"] Anime is ").concat(t.title,", their airing date is ").concat(t.airing):"",className:"Days__Day ".concat(t.day&&"string"!==typeof t.day?"":"Days__Day--filledDay"," ").concat(e.id>n.getLastDayOfMonth(l.getCurrentYear(),n.getCurrentMonth())?"--hidden":""),style:t.image?m:null,onClick:function(){t.id&&window.open("https://myanimelist.net/anime/".concat(t.id),"_blank")},rel:"nofollow noreferer",itemType:"Anime",itemScope:!0},r.a.createElement("div",{className:"Days__Day_Notificators"},r.a.createElement("time",{className:"Days__Day_DayNum ".concat(parseInt(e.id)===e.today?"Days__Day_DayNum--mToday":""),dateTime:t.airing,itemType:"startDate"},t.day&&"string"!==typeof t.day?t.day.toString().padStart(2,"0"):e.id),t.multi?r.a.createElement("div",{itemType:"alsoThisDay",className:"Days__Day_DayNum Days__Day_DayNum--MultititleNotification",onClick:function(t){t.stopPropagation(),e.changeMV()},title:"Also ".concat(t.titleArray.length," anime this day")},"+"+t.titleArray.length):null),r.a.createElement("div",{className:"Days__Day_CardTitle"},r.a.createElement("div",{className:"Days__Day_CardTitle--DayTitle",itemType:"name"},t?t.title:"\u7537\u5b50\u9ad8\u6821\u751f\u3067\u58f2\u308c\u3063\u5b50\u30e9\u30a4\u30c8\u30ce\u30d9\u30eb\u4f5c\u5bb6\u3092\u3057\u3066\u3044\u308b\u3051\u308c\u3069\u3001\u5e74\u4e0b\u306e\u30af\u30e9\u30b9\u30e1\u30a4\u30c8\u3067\u58f0\u512a\u306e\u5973\u306e\u5b50\u306b\u9996\u3092\u7d5e\u3081\u3089\u308c\u3066\u3044\u308b! The Animation 2nd Season"),r.a.createElement("div",{className:"Days__Day_CardTitle--DaySubtitle",itemType:"productionCompany"},t.studio?t.studio.name:"Studio is currently unknown")))})),O=function(e){return r.a.createElement("div",{className:"MultiDay"},r.a.createElement("h1",{className:"MultiDay__Header"},"More for ",new Date(e.date).getDate()," ",E.months[new Date(e.date).getMonth()]+" ",new Date(e.date).getFullYear()),r.a.createElement("div",{className:"MultiDay__Titles"},e.titles.map((function(t,a){return r.a.createElement("div",{className:"Days__DayContainer",key:a},r.a.createElement(C,{id:(a+1).toString().padStart(2,"0"),key:e.titles.id,ani:e.titles[a],month:[E,b],today:(new Date).getDate()}))}))))},S=function(e){return r.a.createElement("div",{className:"Days__Day Days__Day--filledDay","aria-label":"There is no anime for this day"},r.a.createElement("div",{className:"Days__Day_Notificators"},r.a.createElement("time",{className:"Days__Day_DayNum"},e.id?e.id:"")),r.a.createElement("div",{className:"Days__Day_CardTitle"},r.a.createElement("div",{className:"Days__Day_CardTitle--DayTitle",itemType:"name"}," "),r.a.createElement("div",{className:"Days__Day_CardTitle--DaySubtitle",itemType:"productionCompany"},"  ")))},j=r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),l=a[0],i=a[1],o=Object(n.useRef)(!1),c=e.month,m=e.i,s=e.titles,u=e.filler,d=null;Object(n.useEffect)((function(){return s[m].multi&&(o.current=!0,o.current&&h(!1),console.log("XDDD")),function(){return o.current=!1}}),[c]);var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;i(void 0!==e?e:!l)};return s[m].multi&&(d=r.a.createElement(O,{date:s[m].airing,titles:s[m].titleArray,MV:l,key:s[m].id+"_"+l.toString()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"Days__DayContainer ".concat(s[m].day&&"string"!==typeof s[m].day?"":"Days__Day--filledDay"),key:"Container__"+m},s[m].id?r.a.createElement(C,{id:u?" ":(m+1).toString().padStart(2,"0"),key:s[m].id,ani:s[m],month:[E,b],today:(new Date).getDate(),changeMV:h}):r.a.createElement(S,{id:u?" ":(m+1).toString().padStart(2,"0")})),l?d:"")})),M=function(){return[r.a.createElement("li",{key:"mm_1"},"\u6559\u3048\u3066 \u6559\u3048\u3066\u3088 \u305d\u306e\u4ed5\u7d44\u307f\u3092 \u50d5\u306e\u4e2d\u306b\u8ab0\u304c\u3044\u308b\u306e\uff1f"),r.a.createElement("li",{key:"mm_2"},"\u58ca\u308c\u305f \u58ca\u308c\u305f\u3088 \u3053\u306e\u4e16\u754c\u3067 \u541b\u304c\u7b11\u3046 \u4f55\u3082\u898b\u3048\u305a\u306b"),r.a.createElement("li",{key:"mm_3"},"\u58ca\u308c\u305f\u50d5\u306a\u3093\u3066\u3055 \u606f\u3092\u6b62\u3081\u3066"),r.a.createElement("li",{key:"mm_4"},"\u307b\u3069\u3051\u306a\u3044 \u3082\u3046 \u307b\u3069\u3051\u306a\u3044\u3088 \u771f\u5b9f\u3055\u3048 freeze"),r.a.createElement("li",{key:"mm_5"},"\u58ca\u305b\u308b \u58ca\u305b\u306a\u3044 \u72c2\u3048\u308b \u72c2\u3048\u306a\u3044"),r.a.createElement("li",{key:"mm_6"},"\u3042\u306a\u305f\u3092\u898b\u3064\u3051\u3066 \u63fa\u308c\u305f"),r.a.createElement("li",{key:"mm_7"},"\u6b6a\u3093\u3060\u4e16\u754c\u306b\u3060\u3093\u3060\u3093\u50d5\u306f\u900f\u304d\u901a\u3063\u3066\u898b\u3048\u306a\u304f\u306a\u3063\u3066"),r.a.createElement("li",{key:"mm_8"},"\u898b\u3064\u3051\u306a\u3044\u3067 \u50d5\u306e\u3053\u3068\u3092 \u898b\u3064\u3081\u306a\u3044\u3067"),r.a.createElement("li",{key:"mm_9"},"\u8ab0\u304b\u304c\u63cf\u3044\u305f\u4e16\u754c\u306e\u4e2d\u3067 \u3042\u306a\u305f\u3092\u50b7\u3064\u3051\u305f\u304f\u306f\u306a\u3044\u3088"),r.a.createElement("li",{key:"mm_10"},"\u61b6\u3048\u3066\u3044\u3066 \u50d5\u306e\u3053\u3068\u3092 \u9bae\u3084\u304b\u306a\u307e\u307e"),r.a.createElement("li",{key:"mm_11"},"\u7121\u9650\u306b\u5e83\u304c\u308b\u5b64\u72ec\u304c\u7d61\u307e\u308b \u7121\u90aa\u6c17\u306b\u7b11\u3063\u305f\u8a18\u61b6\u304c\u523a\u3055\u3063\u3066"),r.a.createElement("li",{key:"mm_12"},"\u52d5\u3051\u306a\u3044 \u52d5\u3051\u306a\u3044 \u52d5\u3051\u306a\u3044 \u52d5\u3051\u306a\u3044 \u52d5\u3051\u306a\u3044 \u52d5\u3051\u306a\u3044\u3088"),r.a.createElement("li",{key:"mm_13"},"unraveling the world"),r.a.createElement("li",{key:"mm_14"},"\u5909\u308f\u3063\u3066\u3057\u307e\u3063\u305f \u5909\u3048\u3089\u308c\u306a\u304b\u3063\u305f"),r.a.createElement("li",{key:"mm_15"},"2\u3064\u304c\u7d61\u307e\u308b 2\u4eba\u304c\u6ec5\u3073\u308b"),r.a.createElement("li",{key:"mm_16"},"\u58ca\u305b\u308b \u58ca\u305b\u306a\u3044 \u72c2\u3048\u308b \u72c2\u3048\u306a\u3044"),r.a.createElement("li",{key:"mm_17"},"\u3042\u306a\u305f\u3092\u6c5a\u305b\u306a\u3044\u3088 \u63fa\u308c\u305f"),r.a.createElement("li",{key:"mm_18"},"\u6b6a\u3093\u3060\u4e16\u754c\u306b\u3060\u3093\u3060\u3093\u50d5\u306f\u900f\u304d\u901a\u3063\u3066\u898b\u3048\u306a\u304f\u306a\u3063\u3066"),r.a.createElement("li",{key:"mm_19"},"\u898b\u3064\u3051\u306a\u3044\u3067 \u50d5\u306e\u3053\u3068\u3092 \u898b\u3064\u3081\u306a\u3044\u3067"),r.a.createElement("li",{key:"mm_20"},"\u8ab0\u304b\u304c\u4ed5\u7d44\u3093\u3060\u5b64\u72ec\u306a\u7f60\u306b \u672a\u6765\u304c\u307b\u3069\u3051\u3066\u3057\u307e\u3046\u524d\u306b"),r.a.createElement("li",{key:"mm_21"},"\u601d\u3044\u51fa\u3057\u3066 \u50d5\u306e\u3053\u3068\u3092 \u9bae\u3084\u304b\u306a\u307e\u307e"),r.a.createElement("li",{key:"mm_22"},"\u5fd8\u308c\u306a\u3044\u3067 \u5fd8\u308c\u306a\u3044\u3067 \u5fd8\u308c\u306a\u3044\u3067 \u5fd8\u308c\u306a\u3044\u3067"),r.a.createElement("li",{key:"mm_23"},"\u5909\u308f\u3063\u3066\u3057\u307e\u3063\u305f\u3053\u3068\u306b paralyze"),r.a.createElement("li",{key:"mm_24"},"\u5909\u3048\u3089\u308c\u306a\u3044\u3053\u3068\u3060\u3089\u3051paradise"),r.a.createElement("li",{key:"mm_25"},"\u61b6\u3048\u3066\u3066 \u50d5\u306e\u3053\u3068\u3092"),r.a.createElement("li",{key:"mm_26"},"\u6559\u3048\u3066 \u6559\u3048\u3066 \u50d5\u306e\u4e2d\u306b\u8ab0\u304b\u3044\u308b\u306e\uff1f")]},x=function(){return r.a.createElement("ul",{className:"Days__WeekDays"},r.a.createElement("li",null,"M"),r.a.createElement("li",null,"T"),r.a.createElement("li",null,"W"),r.a.createElement("li",null,"T"),r.a.createElement("li",null,"F"),r.a.createElement("li",null,"S"),r.a.createElement("li",null,"S"))},A=function(){var e=Object(c.g)(),t=Object(c.h)(),a=t.navYear,l=t.navMonth,i=Object(n.useState)([]),o=Object(y.a)(i,2),m=o[0],u=o[1],g=Object(n.useState)({month:E.getCurrentMonth(),year:2020}),_=Object(y.a)(g,2),D=_[0],k=_[1],N=Object(n.useState)(!1),C=Object(y.a)(N,2),O=C[0],A=C[1],T=Object(n.useState)({error:!1,code:""}),L=Object(y.a)(T,2),F=L[0],H=L[1],I=Object(n.useState)([]),R=Object(y.a)(I,2),J=R[0],W=R[1],Y=Object(n.useRef)(!1);Object(n.useEffect)((function(){var e=E.getCurrentMonth(),t=b.getCurrentYear();a&&a>=1917&&a<=2022&&l&&(e=l.charAt(0).toUpperCase()+l.slice(1),t=a),D.month===e&&D.year===t||k({month:e,year:t}),console.log("titlelist had updated!")}),[e]),Object(n.useEffect)((function(){function e(){var e=[],t=E.getFirstWeekDayOfMonth(D.month,D.year)-1;return t<0&&(t=6),e.length=t,e=p.fillNewList(e,{day:" "}),W((function(t){return Object(f.a)(e)})),e}function t(){return(t=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return B(!0),t.prev=1,t.next=4,p.animeScissors(D.year,E.getSeasonByMonth(D.month),D.month);case 4:return t.next=6,u((function(e){return Object(f.a)(p.titlelist)}));case 6:Y.current&&e(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),H({error:!0,code:t.t0});case 12:document.title="malendar for ".concat(D.month," ").concat(D.year),B(!1);case 14:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Y.current=!0,Y.current&&function(){t.apply(this,arguments)}(),function(){return Y.current=!1}}),[D]);var B=function(e){e?(A(!0),H({error:!1,code:""})):A(!1)};return r.a.createElement("main",{className:"Container"},r.a.createElement(w,{monthClick:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=E.getRandomMonth(D);if(k(Object(s.a)(Object(s.a)({},D),{},{month:t})),e)return D.year+"/"+t;console.log("Current season is",E.getSeasonByMonth(D.month))},yearClick:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=b.getRandomYear(D);if(k(Object(s.a)(Object(s.a)({},D),{},{year:t})),e)return t+"/"+D.month},date:D,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("January"===D.month&&e<0){if(k({month:"December",year:parseInt(D.year)-1}),t)return parseInt(D.year)-1+"/December"}else if("December"===D.month&&e>0){if(k({month:"January",year:parseInt(D.year)+1}),t)return parseInt(D.year)+1+"/January"}else if(k(Object(s.a)(Object(s.a)({},D),{},{month:E.months[E.months.findIndex((function(e){return e===D.month}))+e]})),t)return parseInt(D.year)+"/"+E.months[E.months.findIndex((function(e){return e===D.month}))+e]},withParams:!(!a||!l)}),O||F.error?r.a.createElement(v,{error:F}):null,r.a.createElement(x,null),r.a.createElement("ol",{className:"Days"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/malendar/ongoing"},r.a.createElement(M,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/:navYear/:navMonth"},J.map((function(e,t){return r.a.createElement("li",{className:"Days__DayContainer Days__Day--filledDay",key:"Container__"+t},r.a.createElement(S,{key:"DayPlaceholder__"+t}))})),m.map((function(e,t){return r.a.createElement(j,{i:t,titles:m,key:"DayContainer__"+t,filler:!1,month:D.month})}))),r.a.createElement(c.a,{exact:!0,path:"/malendar/"},J.map((function(e,t){return r.a.createElement("li",{className:"Days__DayContainer Days__Day--filledDay",key:"Container__"+t},r.a.createElement(S,{key:"DayPlaceholder__"+t}))})),m.map((function(e,t){return r.a.createElement(j,{i:t,titles:m,key:"DayContainer__"+t,filler:!1,month:D.month})}))))))},T=function(){var e=Object(n.useState)(0),t=Object(y.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){!function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://malendar.herokuapp.com/anime/1").then((function(e){return e.status.toString()}));case 2:t=e.sent,l((function(e){return t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement("main",{className:"Container About"},r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"narutomaki is a symbol of malendar"},"\ud83c\udf65"),"malendar",r.a.createElement("span",{role:"img","aria-label":"narutomaki is a symbol of malendar"},"\ud83c\udf65")),r.a.createElement("section",null,r.a.createElement("p",null,"Malendar is a web-application that allows you to see calendar for upcoming (and past) anime releases!")),r.a.createElement("section",null,"Server status: ",a))},L=(a(41),function(){return r.a.createElement("div",{className:"News"},r.a.createElement("h1",null,"What's new?"),r.a.createElement("section",null,r.a.createElement("h2",null,"07.17.2020 update"),r.a.createElement("ul",null,r.a.createElement("h3",null,"Features: "),r.a.createElement("li",null,r.a.createElement("b",null,"Slightly beautiful 404 page")),r.a.createElement("li",null,"Navigation between /yy/mm/ pages should be more correct since now"),r.a.createElement("li",null,"Random dates should work as intended"),r.a.createElement("h3",null,"Bugfixes: "),r.a.createElement("li",null,"Fixed bug with invalid behaviour of multititles (Issue #1)"),r.a.createElement("li",null,"Fixed bug with missed days numbers"),r.a.createElement("li",null,"Some behaviour with loading/error screen was also fixed"),r.a.createElement("h3",null,"In nearest future: "),r.a.createElement("li",null,"Ongoing page"),r.a.createElement("li",null,"About page"),r.a.createElement("li",null,"Light theme"))),r.a.createElement("section",null,r.a.createElement("h2",null,"07.15.2020 update"),r.a.createElement("ul",null,r.a.createElement("h3",null,"Features: "),r.a.createElement("li",null,"Implemented header navigation"),r.a.createElement("li",null,"Added weekdays and w-d marks"),r.a.createElement("li",null,"You can open exact date using links: ",r.a.createElement("br",null),r.a.createElement("small",null,"https://shrmnn.github.io/malendar/1999/January for example; ",r.a.createElement("br",null),r.a.createElement("del",null,"Doesn't work for random dates (yet)"))),r.a.createElement("h3",null,"Bugfixes: "),r.a.createElement("li",null,"Fixed bug with macOS bounce scroll background color"),r.a.createElement("li",null,"Fixed bug with incorrect number of days per month"),r.a.createElement("h3",null,"In nearest future: "),r.a.createElement("li",null,"Ongoing page"),r.a.createElement("li",null,"About page"),r.a.createElement("li",null,r.a.createElement("del",null,"Slightly beautiful 404 page")))))}),F=(a(42),a(25)),H=a.n(F),I=r.a.memo((function(){var e=N(!0,"toggled"),t=Object(y.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){a?document.documentElement.classList.remove("blue"):document.documentElement.classList.add("blue")}),[a]);return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{"aria-label":"Author of site is Alex Shermann, made in 2020",className:"Footer__Right"},"malendar [2020] Alex Shermann"),r.a.createElement("div",{className:"Footer__Left"},r.a.createElement("p",{"aria-label":"Site is recommended for 18+",className:"marker",title:"Site is recommended for 18+"},"18+"),r.a.createElement("img",{alt:"change theme","aria-label":"change theme",height:"32",width:"32",src:H.a,onClick:function(){l(!a)},className:a?"Footer__Left--toggled":""}),r.a.createElement("a",{"aria-label":"Link to github",href:"https://github.com/shrmnn/malendar",target:"_blank",rel:"noopener noreferrer",title:"GitHub"},r.a.createElement("img",{alt:"github link","aria-label":"github link",height:"32",width:"32",className:"Footer__Left--github",src:"https://unpkg.com/simple-icons@v3/icons/github.svg"}))))})),R=(a(43),a(44),a(26)),J=a.n(R),W=function(){Object(n.useEffect)((function(){document.title="404. You shall (not) find";var e=document.querySelector(".Header");return e.classList.add("--shadow"),function(){e.classList.remove("--shadow")}}),[]);var e="https://shrmnn.github.io/malendar/"+b.getRandomYear(2020)+"/"+E.getRandomMonth("January");return r.a.createElement("div",{className:"FourZeroFour"},r.a.createElement("div",null),r.a.createElement("h1",null,"fourzerofour      fourzerofouru"),r.a.createElement("h2",{title:"Page not found"},"\u304a\u3057\u3048\u3066 \u304a\u3057\u3048\u3066 \u3088\t \t\u30da\u30fc\u30b8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"),r.a.createElement("a",{"aria-label":"Link to random page. Maybe it would be better than 404 page",title:"What about random page?",href:e},r.a.createElement("img",{alt:"404 error",src:J.a})))},Y=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(m,null),r.a.createElement("div",{className:"Content"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/malendar/about"},r.a.createElement(T,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/news"},r.a.createElement(L,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/ongoing"},r.a.createElement(A,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/:navYear/:navMonth"},r.a.createElement(A,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/"},r.a.createElement(A,null)),r.a.createElement(c.a,null,r.a.createElement(W,null))),r.a.createElement(I,null))))},B=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/malendar",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/malendar","/service-worker.js");B?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()}],[[27,1,2]]]);
//# sourceMappingURL=main.29e28bfc.chunk.js.map