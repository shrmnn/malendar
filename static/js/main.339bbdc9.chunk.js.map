{"version":3,"sources":["graphics/arrow.svg","graphics/moon.svg","Components/header.js","Components/day.js","api/getanime.js","Components/container.js","Components/footer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","aria-label","title","Day","React","memo","props","styledDay","background","ani","image","id","airing","day","ldm","style","onClick","window","open","rel","itemType","itemScope","parseInt","today","dateTime","toString","padStart","studio","name","titlelist","getSeason","year","season","a","fetch","process","then","res","status","console","log","ok","error","response","json","resJSON","getAnimelist","anime","month","animelist","el","push","map","mal_id","convertToJapanTime","airing_start","image_url","producers","sortAnime","getAnimeByMonth","sort","b","getLastDayOfMonth","Date","getMonth","getDate","time","toLocaleString","timeZone","newlist","length","fillNewList","firstDayOfMonth","getTime","lastDayOfMonth","forEach","index","currentDate","fill","animeScissors","animeJSON","Loading","code","HeadMenu","tabIndex","changeDate","bind","alt","transform","src","arrow","monthClick","date","yearClick","Container","useState","titles","setTitles","setDate","isLoading","setLoadingState","isError","setErrorState","useEffect","document","body","classList","add","getSeasonByMonth","remove","getRandomMonth","rMonth","Math","ceil","random","e","direction","months","findIndex","i","key","Footer","toggledTheme","toggleTheme","height","width","moon","toggle","href","target","App","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","ReactDOM","render","StrictMode","getElementById","URL","origin","addEventListener","headers","contentType","get","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"6FAAAA,EAAOC,QAAU,IAA0B,mC,kBCA3CD,EAAOC,QAAU,IAA0B,kC,yMCqB5BC,G,YAlBA,WACb,OACE,4BAAQC,UAAU,UAChB,yBAAKC,aAAW,YAAYD,UAAU,QACpC,yBAAKA,UAAU,mBAAf,KADF,KAGA,yBAAKA,UAAU,QACb,yBAAKC,aAAW,sBAAsBD,UAAU,OAAOE,MAAM,OAA7D,cAGA,yBAAKD,aAAW,qBAAqBD,UAAU,OAAOE,MAAM,OAA5D,a,4CCkDOC,G,MA7DHC,IAAMC,MAAK,SAACC,GACtB,IAMIC,EAAY,CACdC,WAAW,gEAAD,OACRF,EAAMG,IAAMH,EAAMG,IAAIC,MAAQ,GADtB,8BAKZ,OACE,yBACET,aACEK,EAAMG,IAAIE,GAAV,mBACgBL,EAAMG,IAAIP,MAD1B,kCACyDI,EAAMG,IAAIG,QAC/D,GAENZ,UAAS,oBAAgBM,EAAMG,IAAII,IAA+B,GAAzB,uBAAhC,YACPP,EAAMK,GAAKL,EAAMQ,IAAM,WAAa,IAEtCC,MAAOT,EAAMG,IAAIC,MAAQH,EAAY,KACrCS,QAvBkB,WAChBV,EAAMG,IAAIE,IACZM,OAAOC,KAAP,wCAA6CZ,EAAMG,IAAIE,IAAM,WAsB7DQ,IAAI,qBACJC,SAAS,QACTC,WAAS,GAET,0BACErB,UAAS,2BACPsB,SAAShB,EAAMK,MAAQL,EAAMiB,MAAQ,2BAA6B,IAEpEC,SAAUlB,EAAMG,IAAIG,OACpBQ,SAAS,aAERd,EAAMG,IAAII,IACPP,EAAMG,IAAII,IAAIY,WAAWC,SAAS,EAAG,KACrCpB,EAAMK,IAAML,EAAMQ,IAClBR,EAAMK,GACN,IAEN,yBAAKX,UAAU,uBACb,yBAAKA,UAAU,gCAAgCoB,SAAS,QACrDd,EAAMG,IACHH,EAAMG,IAAIP,MACV,4VAEN,yBACEF,UAAU,mCACVoB,SAAS,qBAERd,EAAMG,IAAIkB,OACPrB,EAAMG,IAAIkB,OAAOC,KACjB,qCCpDHC,EAAY,GAEjBC,EAAS,uCAAG,WAAOC,EAAMC,GAAb,iBAAAC,EAAA,sEACOC,MAAM,GAAD,OALhB,IAKgB,OANlBC,kCAMkB,kBAAyBJ,EAAzB,YAAiCC,EAAjC,MAEzBI,MAAK,SAACC,GASL,OAPmB,MAAfA,EAAIC,QACNC,QAAQC,IAAI,sBAGTH,EAAII,IACPF,QAAQG,MAAM,oBAETL,KAZK,cACVM,EADU,gBAgBMA,EAASC,OAhBf,cAgBVC,EAhBU,yBAiBTA,EAAO,OAjBE,2CAAH,wDAqDTC,EAAe,SAACC,EAAOC,EAAOjB,GAClC,IAAIkB,EAAY,GAIhB,IAAK,IAAMC,KAHXD,EAAUE,KAAKJ,EAAMK,KAAI,SAACF,GAAD,OAAQA,MACjCD,EAAYA,EAAU,GAGpBA,EAAUC,GAAM,CACdvC,GAAIsC,EAAUC,GAAIG,OAClBnD,MAAO+C,EAAUC,GAAIhD,MACrBU,OAAQ0C,EAAmBL,EAAUC,GAAIK,cACzC7C,MAAOuC,EAAUC,GAAIM,UACrB7B,OAAQsB,EAAUC,GAAIO,UAAU,IAQpC,OALA5B,EAAYoB,EACZS,IACAC,EAAgBX,EAAOjB,IAGhB,GAGH2B,EAAY,WAEhB,IAAIT,EAAS,YAAOpB,GAEpBoB,EAAUW,MAAK,SAAC3B,EAAG4B,GACjB,OAAI5B,EAAErB,OAASiD,EAAEjD,OACR,EACEqB,EAAErB,OAASiD,EAAEjD,QACd,EACI,KAGhBiB,EAAS,YAAOoB,IAILa,EAAoB,SAACd,EAAOjB,GACvC,OAAO,IAAIgC,KACThC,EACA,IAAIgC,KAAJ,aAAef,EAAf,YAAwBjB,IAAQiC,WAAa,EAC7C,GACAC,WAGEX,EAAqB,SAACY,GAC1B,OAAO,IAAIH,KAAKG,GAAMC,eAAe,QAAS,CAAEC,SAAU,WAGtDT,EAAkB,SAACX,EAAOjB,GAC9B,IAAIkB,EAAS,YAAOpB,GAChBwC,EAAU,GACdA,EAAQC,OAASR,EAAkBd,EAAOjB,GAC1CsC,EAAUE,EAAYF,EAASrB,EAAOjB,GAEtC,IAAIyC,EAAkB,IAAIT,KAAJ,aAAef,EAAf,YAAwBjB,IAAQ0C,UAClDC,EAAiB,IAAIX,KAAJ,UAChBD,EAAkBd,EAAOjB,GADT,YACkBiB,EADlB,YAC2BjB,IAC9C0C,UAIFxB,EAAU0B,SAAQ,SAAC1C,EAAG2C,GACpB,IAAIC,EAAc,IAAId,KAAK9B,EAAErB,QAAQ6D,UAErC,OAAII,GAAeH,GAAkBG,GAAeL,IAGlDvC,EAAEpB,IAAM,IAAIkD,KAAK9B,EAAErB,QAAQqD,UAC3BI,EAAQpC,EAAEpB,IAAM,GAAKoB,GACd,MAMXJ,EAAS,YAAOwC,IAGZE,EAAc,SAACF,EAASrB,EAAOjB,GACnC,IAQIkB,EAAS,YAAOoB,GAMpB,OALApB,EAAU6B,KATM,CACdnE,GAAI,GACJT,MAAO,GACPU,OAAQ,GACRF,MAAO,GACPiB,OAAQ,CAAEC,KAAM,KAIQ,EAAGqB,EAAUqB,QAKhCrB,GAeM8B,EAZI,uCAAG,WAAOhD,EAAMC,EAAQgB,GAArB,eAAAf,EAAA,sEAEEH,EAAUC,EAAMC,GAFlB,cAEhBgD,EAFgB,gBAKPlC,EAAakC,EAAWhC,EAAOjB,GALxB,mFAAH,0D,gBCpBbkD,EAAU,SAAC3E,GAAD,OACd,yBAAKL,aAAW,aAAaD,UAAU,WACpCM,EAAMoC,MAAMA,MAAZ,yCAAgD,gDAChDpC,EAAMoC,MAAMwC,KAAO3C,QAAQC,IAAIlC,EAAMoC,MAAMwC,MAAQ,OAIlDC,EAAW,SAAC7E,GAAD,OACf,yBAAKL,aAAW,kBAAkBD,UAAU,iBAC1C,yBAAKA,UAAU,0BACb,4BACEoF,SAAS,IACTpF,UAAU,wBACVgB,QAASV,EAAM+E,WAAWC,U,GAAY,GACtCpF,MAAM,kBAEN,yBACEqF,IAAI,aACJxE,MAAO,CAAEyE,UAAU,kBACnBC,IAAKC,OAIT,yBACEzF,aAAW,eACXD,UAAU,mCACVgB,QAASV,EAAMqF,WACfzF,MAAM,0BAELI,EAAMsF,KAAK5C,OAEd,yBACE/C,aAAW,cACXD,UAAU,kCACVgB,QAASV,EAAMuF,UACf3F,MAAM,yBAELI,EAAMsF,KAAK7D,MAGd,4BACEqD,SAAS,IACTpF,UAAU,wBACVgB,QAASV,EAAM+E,WAAWC,U,EAAW,GACrCpF,MAAM,cAEN,yBAAKqF,IAAI,YAAYE,IAAKC,QAG9B,yBACEzF,aAAW,oDACXD,UAAU,6BAEV,yBAAKA,UAAU,gBAAf,WACA,yBAAKA,UAAU,mDAAf,mBAOS8F,EAhMG,WAAO,IAAD,EACMC,mBAAS,CAAClE,IADhB,mBACfmE,EADe,KACPC,EADO,OAEEF,mBAAS,CAAE/C,MAAO,OAAQjB,KAAM,OAFlC,mBAEf6D,EAFe,KAETM,EAFS,OAGeH,oBAAS,GAHxB,mBAGfI,EAHe,KAGJC,EAHI,OAIWL,mBAAS,CAAErD,OAAO,EAAOwC,KAAM,KAJ1C,mBAIfmB,EAJe,KAINC,EAJM,KAMtBC,qBAAU,YACR,uCAAC,sBAAAtE,EAAA,6DACCmE,GAAgB,GAChBI,SAASC,KAAKC,UAAUC,IAAI,cAC5BL,EAAc,CAAE5D,OAAO,EAAOwC,KAAM,KAHrC,kBAMSH,EACJa,EAAK7D,KACL6E,EAAiBhB,EAAK5C,OACtB4C,EAAK5C,OATV,cAWGT,QAAQC,IAAI,0BAXf,SAYSyD,GAAU,SAACD,GAAD,OAAmB,YAAOnE,MAZ7C,yDAcGyE,EAAc,CAAE5D,OAAO,EAAMwC,KAAK,EAAD,KAdpC,QAiBCsB,SAAStG,MAAT,uBAAiC0F,EAAK5C,MAAtC,YAA+C4C,EAAK7D,MACpDqE,GAAgB,GAChBI,SAASC,KAAKC,UAAUG,OAAO,cAnBhC,0DAAD,yDAqBC,CAACjB,IAEJ,IAAMgB,EAAmB,SAAC5D,GAUxB,MARc,YAAVA,GAAiC,aAAVA,EAChB,SACU,UAAVA,GAA+B,UAAVA,GAA+B,QAAVA,EAC1C,SACU,SAAVA,GAA8B,SAAVA,GAA8B,WAAVA,EACxC,SACK,QAqElB,OACE,0BAAMhD,UAAU,aACd,kBAAC,EAAD,CACE2F,WA1Ca,WACjB,IAAI3C,EA1BiB,SAAjB8D,IACJ,IAeIC,EAfS,CACX,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAGkBC,KAAKC,KAAqB,GAAhBD,KAAKE,WAMnC,OAJIH,IAAWnB,EAAK5C,QAClB+D,EAASD,KAGJC,EAIKD,GACZZ,EAAQ,2BAAKN,GAAN,IAAY5C,WACnBT,QAAQC,IAAI,oBAAqBoE,EAAiBhB,EAAK5C,SAwCnD6C,UArCY,SAACsB,GACjBjB,EAAQ,2BAAKN,GAAN,IAAY7D,KAAMiF,KAAKC,KAAqB,GAAhBD,KAAKE,UAAiB,SAqCrDtB,KAAMA,EACNP,WAnCa,SAAC+B,GAClB,IAAIC,EAAS,CACX,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEF9E,QAAQC,IAAI,wBAAyBoD,EAAK5C,MAAO4C,EAAK7D,MAEnC,YAAf6D,EAAK5C,OAAuBoE,EAAY,EAC1ClB,EAAQ,CAAElD,MAAO,WAAYjB,KAAM6D,EAAK7D,KAAO,IACvB,aAAf6D,EAAK5C,OAAwBoE,EAAY,EAClDlB,EAAQ,CAAElD,MAAO,UAAWjB,KAAM6D,EAAK7D,KAAO,IAE9CmE,EAAQ,2BACHN,GADE,IAEL5C,MAAOqE,EAAOA,EAAOC,WAAU,SAACH,GAAD,OAAOA,IAAMvB,EAAK5C,SAASoE,SAa5D,yBAAKpH,UAAS,QACXmG,GAAaE,EAAQ3D,MAAQ,kBAAC,EAAD,CAASA,MAAO2D,IAAc,KAC3DL,EAAO5C,KAAI,SAACF,EAAIqE,GAAL,OACV,kBAAC,EAAD,CACE5G,IAAK4G,EAAI,GAAG9F,WAAWC,SAAS,EAAG,KACnC8F,IAAKD,EACL9G,IAAKuF,EAAOuB,GACZzG,IAAKgD,EAAkB8B,EAAK5C,MAAO4C,EAAK7D,MACxCR,OAAO,IAAIwC,MAAOE,kB,yBCvEfwD,EAtDArH,IAAMC,MAAK,WAAO,IAAD,EACM0F,oBAAS,GADf,mBACvB2B,EADuB,KACTC,EADS,KAQ9B,OACE,4BAAQ3H,UAAU,UAChB,yBACEC,aAAW,gDACXD,UAAU,iBAFZ,wBAMA,yBAAKA,UAAU,gBACb,uBACEC,aAAW,8BACXD,UAAU,SACVE,MAAM,+BAHR,OAOA,yBACEqF,IAAI,eACJtF,aAAW,eACX2H,OAAO,KACPC,MAAM,KACNpC,IAAKqC,IACL9G,QA3BY,WAClBwF,SAASC,KAAKC,UAAUqB,OAAO,QAC/BJ,GAAaD,IA0BP1H,UAAW0H,EAAe,wBAA0B,KAEtD,uBACEzH,aAAW,iBACX+H,KAAK,qCACLC,OAAO,SACP9G,IAAI,sBACJjB,MAAM,UAEN,yBACEqF,IAAI,cACJtF,aAAW,cACX2H,OAAO,KACPC,MAAM,KACN7H,UAAU,uBACVyF,IAAI,6DC/BDyC,G,MAZH,WACR,OACI,yBAAKlI,UAAU,OACX,yBAAKA,UAAU,WACX,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,kBAAC,EAAD,UCDVmI,EAAcC,QACa,cAA7BnH,OAAOoH,SAASC,UAEa,UAA7BrH,OAAOoH,SAASC,UAEhBrH,OAAOoH,SAASC,SAASC,MACrB,2DAsCR,SAASC,EAAgBC,EAAOC,GAC5BC,UAAUC,cACLC,SAASJ,GACTrG,MAAK,SAAA0G,GACFA,EAAaC,cAAgB,WACzB,IAAMC,EAAmBF,EAAaG,WACd,MAApBD,IAGJA,EAAiBE,cAAgB,WACE,cAA3BF,EAAiBG,QACbR,UAAUC,cAAcQ,YAIxB7G,QAAQC,IACJ,iHAKAkG,GAAUA,EAAOW,UACjBX,EAAOW,SAASP,KAMpBvG,QAAQC,IAAI,sCAGRkG,GAAUA,EAAOY,WACjBZ,EAAOY,UAAUR,WAOxCS,OAAM,SAAA7G,GACHH,QAAQG,MAAM,4CAA6CA,MC1FvE8G,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFlD,SAASmD,eAAe,SDYnB,SAAkBjB,GACrB,GAA6C,kBAAmBC,UAAW,CAGvE,GADkB,IAAIiB,IAAIzH,YAAwBlB,OAAOoH,SAASL,MACpD6B,SAAW5I,OAAOoH,SAASwB,OAIrC,OAGJ5I,OAAO6I,iBAAiB,QAAQ,WAC5B,IAAMrB,EAAK,UAAMtG,YAAN,sBAEPgG,IAgEhB,SAAiCM,EAAOC,GAEpCxG,MAAMuG,EAAO,CACTsB,QAAS,CAAC,iBAAkB,YAE3B3H,MAAK,SAAAO,GAEF,IAAMqH,EAAcrH,EAASoH,QAAQE,IAAI,gBAEjB,MAApBtH,EAASL,QACO,MAAf0H,IAA8D,IAAvCA,EAAYE,QAAQ,cAG5CvB,UAAUC,cAAcuB,MAAM/H,MAAK,SAAA0G,GAC/BA,EAAasB,aAAahI,MAAK,WAC3BnB,OAAOoH,SAASgC,eAKxB7B,EAAgBC,EAAOC,MAG9Ba,OAAM,WACHhH,QAAQC,IACJ,oEAvFA8H,CAAwB7B,EAAOC,GAI/BC,UAAUC,cAAcuB,MAAM/H,MAAK,WAC/BG,QAAQC,IACJ,iHAMRgG,EAAgBC,EAAOC,OClCvCE,K","file":"static/js/main.339bbdc9.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/arrow.8168175f.svg\";","module.exports = __webpack_public_path__ + \"static/media/moon.0ae2b2c9.svg\";","import React from \"react\";\nimport \"./header.css\";\n\nconst Header = () => {\n  return (\n    <header className=\"Header\">\n      <div aria-label=\"Site logo\" className=\"Logo\">\n        <div className=\"Header__Logo--M\">M</div>C\n      </div>\n      <div className=\"Menu\">\n        <div aria-label=\"Link to update feed\" className=\"Menu\" title=\"WIP\">\n          What's new\n        </div>\n        <div aria-label=\"Link to about page\" className=\"Menu\" title=\"WIP\">\n          About\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\n\nconst Day = React.memo((props) => {\n  const handleClicked = () => {\n    if (props.ani.id) {\n      window.open(`https://myanimelist.net/anime/${props.ani.id}`, \"_blank\");\n    }\n  };\n\n  let styledDay = {\n    background: `linear-gradient(180deg, rgba(0,0,0,0) 0%, #0E0E0E 105%), url(${\n      props.ani ? props.ani.image : \"\"\n    }) center center no-repeat`,\n  };\n\n  return (\n    <div\n      aria-label={\n        props.ani.id\n          ? `Anime is ${props.ani.title}, their airing date is ${props.ani.airing}`\n          : \"\"\n      }\n      className={`Days__Day ${!props.ani.day ? \"Days__Day--filledDay\" : \"\"} ${\n        props.id > props.ldm ? \"--hidden\" : \"\"\n      }`}\n      style={props.ani.image ? styledDay : null}\n      onClick={handleClicked}\n      rel=\"nofollow noreferer\"\n      itemType=\"Anime\"\n      itemScope\n    >\n      <time\n        className={`Days__Day_DayNum ${\n          parseInt(props.id) === props.today ? \"Days__Day_DayNum--mToday\" : \"\"\n        }`}\n        dateTime={props.ani.airing}\n        itemType=\"startDate\"\n      >\n        {props.ani.day\n          ? props.ani.day.toString().padStart(2, \"0\")\n          : props.id <= props.ldm\n          ? props.id\n          : \"\"}\n      </time>\n      <div className=\"Days__Day_CardTitle\">\n        <div className=\"Days__Day_CardTitle--DayTitle\" itemType=\"name\">\n          {props.ani\n            ? props.ani.title\n            : \"男子高校生で売れっ子ライトノベル作家をしているけれど、年下のクラスメイトで声優の女の子に首を絞められている! The Animation 2nd Season\"}\n        </div>\n        <div\n          className=\"Days__Day_CardTitle--DaySubtitle\"\n          itemType=\"productionCompany\"\n        >\n          {props.ani.studio\n            ? props.ani.studio.name\n            : \"Studio is currently unknown\"}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nexport default Day;\n","//const API = \"https://api.jikan.moe/v3/\";\nconst API = process.env.REACT_APP_API;\nconst PROXY = \"\";\n\nexport let titlelist = [];\n\nconst getSeason = async (year, season) => {\n  const response = await fetch(`${PROXY}${API}season/${year}/${season}/`)\n    //const response = await fetch(`${API}season/`)\n    .then((res) => {\n      //console.log(res);\n      if (res.status === 429) {\n        console.log(\"Too many requests!\");\n      }\n      //console.log('response is ', res);\n      if (!res.ok) {\n        console.error(\"Could not fetch!\");\n      }\n      return res;\n    });\n  //console.log(`Fetching ${PROXY}${API}season/${year}/${season}/`);\n\n  const resJSON = await response.json();\n  return resJSON[\"anime\"];\n};\n/*let images = [];*/\n\n/*const imageSaver = (image, el) => {\n    images[el] = image;\n    return images[el];\n}*/\n/*export const getLargeImages = async () => {\n    console.log('getLargeImages started!')\n    let animelist = [...titlelist];\n    for (const el in animelist) {\n        await sleep(500).then(async () => {\n            getAnimeImage(animelist[el].id)\n                .then(image => {\n                    animelist[el]['image'] = imageSaver(image, el);\n                    return image;\n                });\n        });\n    };\n    console.log('animelist in getLargeImages is ', animelist);\n    titlelist = animelist;\n    console.log(JSON.stringify(animelist) === JSON.stringify(titlelist));\n    console.log('getLargeImages finished!')\n    return titlelist;\n}*/\n/*const getAnimeImage = async (mal_id) => {\n    const image_url = await fetch( `${API}anime/${mal_id}/pictures/`)\n        .then(res => {\n            return res.json();\n        });\n    const image = image_url.pictures[0]['large'];\n    //console.log(image);\n    return image;\n}*/\n\nconst getAnimelist = (anime, month, year) => {\n  let animelist = [];\n  animelist.push(anime.map((el) => el));\n  animelist = animelist[0];\n\n  for (const el in animelist) {\n    animelist[el] = {\n      id: animelist[el].mal_id,\n      title: animelist[el].title,\n      airing: convertToJapanTime(animelist[el].airing_start),\n      image: animelist[el].image_url,\n      studio: animelist[el].producers[0],\n    };\n  }\n  titlelist = animelist;\n  sortAnime();\n  getAnimeByMonth(month, year);\n\n  //console.log(\"getAnimelist is \", titlelist);\n  return true;\n};\n\nconst sortAnime = () => {\n  //console.log('sort has started!', titlelist);\n  let animelist = [...titlelist];\n\n  animelist.sort((a, b) => {\n    if (a.airing > b.airing) {\n      return 1;\n    } else if (a.airing < b.airing) {\n      return -1;\n    } else return 0;\n  });\n\n  titlelist = [...animelist];\n  //console.log('sort is finished!', titlelist);\n};\n\nexport const getLastDayOfMonth = (month, year) => {\n  return new Date(\n    year,\n    new Date(`01 ${month} ${year}`).getMonth() + 1,\n    0\n  ).getDate();\n};\n\nconst convertToJapanTime = (time) => {\n  return new Date(time).toLocaleString(\"en-US\", { timeZone: \"Japan\" });\n};\n\nconst getAnimeByMonth = (month, year) => {\n  let animelist = [...titlelist];\n  let newlist = [];\n  newlist.length = getLastDayOfMonth(month, year);\n  newlist = fillNewList(newlist, month, year);\n\n  let firstDayOfMonth = new Date(`01 ${month} ${year}`).getTime();\n  let lastDayOfMonth = new Date(\n    `${getLastDayOfMonth(month, year)} ${month} ${year}`\n  ).getTime();\n\n  //console.log(firstDayOfMonth, lastDayOfMonth);\n\n  animelist.forEach((a, index) => {\n    let currentDate = new Date(a.airing).getTime();\n\n    if (currentDate <= lastDayOfMonth && currentDate >= firstDayOfMonth) {\n      //console.log(firstDayOfMonth, currentDate, lastDayOfMonth);\n      //console.log(a, \"a.airing is true\");\n      a.day = new Date(a.airing).getDate();\n      newlist[a.day - 1] = a;\n      return true;\n    }\n    return false;\n  });\n\n  //console.log(\"animelist after gabm is\", newlist);\n  titlelist = [...newlist];\n};\n\nconst fillNewList = (newlist, month, year) => {\n  let dumbTitle = {\n    id: \"\",\n    title: \"\",\n    airing: \"\",\n    image: \"\",\n    studio: { name: \"\" },\n  };\n\n  let animelist = [...newlist];\n  animelist.fill(dumbTitle, 0, animelist.length);\n  /*console.log(\n    \"Filled list is \",\n    animelist\n  );*/\n  return animelist;\n};\n\nconst animeScissors = async (year, season, month) => {\n  //console.log(`${API}season/${year}/${season}/`);\n  let animeJSON = await getSeason(year, season);\n  //console.log(animeJSON);\n  //let result = await getAnimelist(animeJSON);\n  return await getAnimelist(animeJSON, month, year);\n};\n\n/*const sleep = (milliseconds) => {\n  return new Promise((resolve) => setTimeout(resolve, milliseconds));\n};*/\n\nexport default animeScissors;\n","import React, { useEffect, useState } from \"react\";\nimport \"./grid_container.css\";\nimport Day from \"./day\";\nimport animeScissors, { getLastDayOfMonth, titlelist } from \"../api/getanime\";\nimport arrow from \"../graphics/arrow.svg\";\n\nconst Container = () => {\n  const [titles, setTitles] = useState([titlelist]);\n  const [date, setDate] = useState({ month: \"July\", year: 2020 });\n  const [isLoading, setLoadingState] = useState(false);\n  const [isError, setErrorState] = useState({ error: false, code: \"\" });\n\n  useEffect(() => {\n    (async function xd() {\n      setLoadingState(true);\n      document.body.classList.add(\"--overflow\");\n      setErrorState({ error: false, code: \"\" });\n\n      try {\n        await animeScissors(\n          date.year,\n          getSeasonByMonth(date.month),\n          date.month\n        );\n        console.log(\"titlelist had updated!\");\n        await setTitles((titles) => (titles = [...titlelist]));\n      } catch (error) {\n        setErrorState({ error: true, code: error });\n      }\n\n      document.title = `malendar for ${date.month} ${date.year}`;\n      setLoadingState(false);\n      document.body.classList.remove(\"--overflow\");\n    })();\n  }, [date]);\n\n  const getSeasonByMonth = (month) => {\n    let season = \"\";\n    if (month === \"January\" || month === \"February\") {\n      season = \"winter\";\n    } else if (month === \"March\" || month === \"April\" || month === \"May\") {\n      season = \"spring\";\n    } else if (month === \"June\" || month === \"July\" || month === \"August\") {\n      season = \"summer\";\n    } else season = \"fall\";\n\n    return season;\n  };\n\n  const getRandomMonth = () => {\n    let months = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n\n    let rMonth = months[Math.ceil(Math.random() * 11)];\n\n    if (rMonth === date.month) {\n      rMonth = getRandomMonth();\n    }\n\n    return rMonth;\n  };\n\n  const monthClick = () => {\n    let month = getRandomMonth();\n    setDate({ ...date, month });\n    console.log(\"Current season is\", getSeasonByMonth(date.month));\n  };\n\n  const yearClick = (e) => {\n    setDate({ ...date, year: Math.ceil(Math.random() * 10) + 2010 });\n  };\n\n  const changeDate = (direction) => {\n    let months = [\n      \"January\",\n      \"February\",\n      \"March\",\n      \"April\",\n      \"May\",\n      \"June\",\n      \"July\",\n      \"August\",\n      \"September\",\n      \"October\",\n      \"November\",\n      \"December\",\n    ];\n    console.log(\"hey there what about \", date.month, date.year);\n\n    if (date.month === \"January\" && direction < 0) {\n      setDate({ month: \"December\", year: date.year - 1 });\n    } else if (date.month === \"December\" && direction > 0) {\n      setDate({ month: \"January\", year: date.year + 1 });\n    } else {\n      setDate({\n        ...date,\n        month: months[months.findIndex((e) => e === date.month) + direction],\n      });\n    }\n  };\n\n  return (\n    <main className=\"Container\">\n      <HeadMenu\n        monthClick={monthClick}\n        yearClick={yearClick}\n        date={date}\n        changeDate={changeDate}\n      />\n      <div className={`Days`}>\n        {isLoading || isError.error ? <Loading error={isError} /> : null}\n        {titles.map((el, i) => (\n          <Day\n            id={(i + 1).toString().padStart(2, \"0\")}\n            key={i}\n            ani={titles[i]}\n            ldm={getLastDayOfMonth(date.month, date.year)}\n            today={new Date().getDate()}\n          />\n        ))}\n      </div>\n    </main>\n  );\n};\n\nconst Loading = (props) => (\n  <div aria-label=\"loading...\" className=\"Loading\">\n    {props.error.error ? `Error has occurred(╥﹏╥)` : \"(っ◔◡◔)っ 🍥\"}\n    {props.error.code ? console.log(props.error.code) : null}\n  </div>\n);\n\nconst HeadMenu = (props) => (\n  <div aria-label=\"head navigation\" className=\"HeadContainer\">\n    <div className=\"HeadContainer__DateNav\">\n      <button\n        tabIndex=\"0\"\n        className=\"HeadContainer__Button\"\n        onClick={props.changeDate.bind(this, -1)}\n        title=\"Previous month\"\n      >\n        <img\n          alt=\"back-arrow\"\n          style={{ transform: `rotate(180deg)` }}\n          src={arrow}\n        />\n      </button>\n\n      <div\n        aria-label=\"select month\"\n        className=\"HeadContainer__DateNav_DateMonth\"\n        onClick={props.monthClick}\n        title=\"Click for random month\"\n      >\n        {props.date.month}\n      </div>\n      <div\n        aria-label=\"select year\"\n        className=\"HeadContainer__DateNav_DateYear\"\n        onClick={props.yearClick}\n        title=\"Click for random year\"\n      >\n        {props.date.year}\n      </div>\n\n      <button\n        tabIndex=\"0\"\n        className=\"HeadContainer__Button\"\n        onClick={props.changeDate.bind(this, 1)}\n        title=\"Next month\"\n      >\n        <img alt=\"fur-arrow\" src={arrow} />\n      </button>\n    </div>\n    <div\n      aria-label=\"select if you want to see ongoing or new releases\"\n      className=\"HeadContainer__ReleaseNav\"\n    >\n      <div className=\"padding-left\">Ongoing</div>\n      <div className=\"padding-right HeadContainer__ReleaseNav--active\">\n        New releases\n      </div>\n    </div>\n  </div>\n);\n\nexport default Container;\n","import React, { useState } from \"react\";\nimport \"./footer.css\";\nimport moon from \"../graphics/moon.svg\";\n\nconst Footer = React.memo(() => {\n  const [toggledTheme, toggleTheme] = useState(false);\n\n  const changeTheme = () => {\n    document.body.classList.toggle(\"blue\");\n    toggleTheme(!toggledTheme);\n  };\n\n  return (\n    <footer className=\"Footer\">\n      <div\n        aria-label=\"Author of site is Alex Shermann, made in 2020\"\n        className=\"Footer__Right\"\n      >\n        Alex Shermann [2020]\n      </div>\n      <div className=\"Footer__Left\">\n        <p\n          aria-label=\"Site is recommended for 18+\"\n          className=\"marker\"\n          title=\"Site is recommended for 18+\"\n        >\n          18+\n        </p>\n        <img\n          alt=\"change theme\"\n          aria-label=\"change theme\"\n          height=\"32\"\n          width=\"32\"\n          src={moon}\n          onClick={changeTheme}\n          className={toggledTheme ? \"Footer__Left--toggled\" : \"\"}\n        />\n        <a\n          aria-label=\"Link to github\"\n          href=\"https://github.com/shrmnn/malendar\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          title=\"GitHub\"\n        >\n          <img\n            alt=\"github link\"\n            aria-label=\"github link\"\n            height=\"32\"\n            width=\"32\"\n            className=\"Footer__Left--github\"\n            src=\"https://unpkg.com/simple-icons@v3/icons/github.svg\"\n          />\n        </a>\n      </div>\n    </footer>\n  );\n});\n\nexport default Footer;\n","import React from 'react';\nimport Header from \"./Components/header\";\nimport Container from \"./Components/container\";\nimport Footer from \"./Components/footer\";\n\nimport './App.css';\n\nconst App = () => {\n    return (\n        <div className=\"App\">\n            <div className='Content'>\n                <Header/>\n                <Container/>\n                <Footer/>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: {'Service-Worker': 'script'},\n    })\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then(registration => {\n                registration.unregister();\n            })\n            .catch(error => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}