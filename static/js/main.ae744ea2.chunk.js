(this.webpackJsonpmalendar=this.webpackJsonpmalendar||[]).push([[0],[,,,,,,,,,function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),i=t.n(c),o=(t(14),t(15),function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{"aria-label":"Site logo",className:"Logo"},"MC"),r.a.createElement("div",{className:"Menu"},r.a.createElement("div",{"aria-label":"Link to update feed",className:"Menu"},"What's new"),r.a.createElement("div",{"aria-label":"Link to about page",className:"Menu"},"About")))}),l=t(1),s=t.n(l),u=t(2),m=t(5),d=t(3),f=(t(17),[]),h=function(){var e=Object(m.a)(s.a.mark((function e(a,t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api.codetabs.com/v1/proxy?quest=https://api.jikan.moe/v3/","season/").concat(a,"/").concat(t,"/")).then((function(e){return 429===e.status&&console.log("Too many requests!"),e.ok||console.error("Could not fetch!"),e}));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.anime);case 7:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),g=function(e,a,t){var n=[];for(var r in n.push(e.map((function(e){return e}))),n=n[0])n[r]={id:n[r].mal_id,title:n[r].title,airing:n[r].airing_start,image:n[r].image_url,studio:n[r].producers[0]};return f=n,p(),v(a,t),!0},p=function(){var e=Object(u.a)(f);e.sort((function(e,a){return e.airing>a.airing?1:e.airing<a.airing?-1:0})),f=Object(u.a)(e)},b=function(e,a){return new Date(a,new Date("01 ".concat(e," ").concat(a)).getMonth()+1,0).getDate()},v=function(e,a){var t=Object(u.a)(f),n=[];n.length=35,n=E(n,e,a);var r=new Date("01 ".concat(e," ").concat(a)).getTime(),c=new Date("".concat(b(e,a)," ").concat(e," ").concat(a)).getTime();t.forEach((function(e,a){var t=new Date(e.airing).getTime();return t<=c&&t>=r&&(e.day=new Date(e.airing).getDate()+1,n[e.day-1]=e,!0)})),f=Object(u.a)(n)},E=function(e,a,t){var n=Object(u.a)(e);return n.fill({id:"",title:"",airing:"",image:"",studio:{name:""}},0,n.length),n},y=function(){var e=Object(m.a)(s.a.mark((function e(a,t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(a,t);case 2:return r=e.sent,e.next=5,g(r,n,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),k=function(e){return r.a.createElement("div",{"aria-label":"loading...",className:"loading"},e.error?"Error has occurred(\u2565\ufe4f\u2565)":"(\u3063\u25d4\u25e1\u25d4)\u3063 \ud83c\udf65")},w=function(e){return r.a.createElement("div",{"aria-label":"head navigation",className:"Head-Container"},r.a.createElement("div",{className:"Date-nav"},r.a.createElement("div",{"aria-label":"select month",className:"dateMonth padding-left",onClick:e.monthClick},e.month),r.a.createElement("div",{"aria-label":"select year",className:"dateYear padding-right",onClick:e.yearClick},e.year)),r.a.createElement("div",{"aria-label":"select if you want to see ongoing or new releases",className:"Release-nav"},r.a.createElement("div",{className:"padding-left"},"Ongoing"),r.a.createElement("div",{className:"padding-right active"},"New releases")))},N=function(){var e=Object(n.useState)([f]),a=Object(d.a)(e,2),c=a[0],i=a[1],o=Object(n.useState)("July"),l=Object(d.a)(o,2),h=l[0],g=l[1],p=Object(n.useState)(2020),v=Object(d.a)(p,2),E=v[0],N=v[1],j=Object(n.useState)(!1),O=Object(d.a)(j,2),M=(O[0],O[1]),x=Object(n.useState)(!1),S=Object(d.a)(x,2),C=S[0],D=S[1];Object(n.useEffect)((function(){!function(){var e=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),D(!1),console.log("year: ".concat(E," and month: ").concat(h)),e.prev=3,e.next=6,y(E,A(h),h);case 6:return console.log("titlelist had updated!"),e.next=9,i((function(e){return Object(u.a)(f)}));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),D(!0);case 14:M(!1);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}()()}),[h,E]);var A=function(e){return"January"===e||"February"===e?"winter":"March"===e||"April"===e||"May"===e?"spring":"June"===e||"July"===e||"August"===e?"summer":"fall"},J=r.a.lazy((function(){return t.e(3).then(t.bind(null,21))}));return r.a.createElement("main",{className:"Container"},r.a.createElement(w,{month:h,year:E,monthClick:function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];g((function(a){return e[Math.ceil(11*Math.random())]})),console.log("Current season is",A(h))},yearClick:function(){N((function(e){return Math.ceil(20*Math.random())+2e3}))}}),r.a.createElement("div",{className:"Days"},C?r.a.createElement(k,{error:C}):null,r.a.createElement(n.Suspense,{fallback:r.a.createElement(k,{error:C})},c.map((function(e,a){return r.a.createElement(J,{id:(a+1).toString().padStart(2,"0"),key:a,ani:c[a],ldm:b(h,E)})})))))},j=(t(18),function(){return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{"aria-label":"Author of site is Alex Shermann, made in 2020",className:"footerRight"},"Alex Shermann [2020]"),r.a.createElement("div",{className:"footerLeft"},r.a.createElement("p",{"aria-label":"Site is recommended for 18+",className:"marker"},"18+"),r.a.createElement("a",{"aria-label":"Link to github",href:"https://github.com/shrmnn/malendar",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:"github link","aria-label":"github link",height:"32",width:"32",src:"https://unpkg.com/simple-icons@v2/icons/github.svg"}))))}),O=(t(19),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Content"},r.a.createElement(o,null),r.a.createElement(N,null),r.a.createElement(j,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.ae744ea2.chunk.js.map