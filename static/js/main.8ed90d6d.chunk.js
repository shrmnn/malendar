(this.webpackJsonpmalendar=this.webpackJsonpmalendar||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/arrow.2c511b88.svg"},,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/moon.d58b953a.svg"},function(e,t,a){e.exports=a.p+"static/media/fourzerofour.29291068.webp"},function(e,t,a){e.exports=a(45)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),i=a.n(l),o=(a(32),a(10)),c=a(1),s=(a(33),function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("div",{id:"HeaderContainer"},r.a.createElement(o.b,{"aria-label":"Site logo / homepage button",className:"Logo",to:"/malendar/",alt:"To homepage",title:"Homepage (SPA mode)"},r.a.createElement("div",{className:"Header__Logo--M"},"M"),"C"),r.a.createElement("nav",{className:"Menu"},r.a.createElement(o.c,{"aria-label":"Link to update feed",className:"Menu",to:"/malendar/news",title:"News",activeClassName:"Header--active",replace:!0},"What's new"),r.a.createElement(o.c,{"aria-label":"Link to about page",className:"Menu",to:"/malendar/about",title:"About",activeClassName:"Header--active"},"About"))))}),u=a(12),m=a(2),d=a.n(m),h=a(5),g=a(8),f=a(3),y=(a(40),a(15)),p=new function e(){var t=this;Object(y.a)(this,e),this.months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.getRandomMonth=function(e){var a=t.months[Math.ceil(11*Math.random())];return a===e.month&&(a=t.getRandomMonth(e)),a},this.getSeasonByMonth=function(e){return"January"===e||"February"===e||"March"===e?"winter":"April"===e||"May"===e||"June"===e?"spring":"July"===e||"August"===e||"September"===e?"summer":"fall"},this.getCurrentMonth=function(){return t.months[(new Date).getMonth()]},this.getLastDayOfMonth=function(e,a){return new Date(a,t.convertToLocale("en-US",new Date("".concat(e," 01 ").concat(a))).getMonth()+1,0).getDate()},this.convertToLocale=function(e,t){return new Date(new Date(t).toLocaleString(e))},this.convertToJapanTime=function(e){return new Date(e).toLocaleString("en-US",{timeZone:"Japan"})},this.getFirstWeekDayOfMonth=function(e,a){return new Date(t.convertToLocale("en-US","".concat(e," 01 ").concat(a))).getDay()}},b=new function e(){var t=this;Object(y.a)(this,e),this.getCurrentYear=function(){return(new Date).getFullYear()},this.getRandomYear=function(e){var a=Math.ceil(15*Math.random())+2e3;return a===e.year&&(a=t.getRandomYear(e)),a}},v="https://malendar.herokuapp.com/",E=new function e(){var t=this;Object(y.a)(this,e),this.titlelist=[],this.ongoing=[],this.animeJSON=[],this.animecontroller=new AbortController,this.animeScissors=function(){var e=Object(h.a)(d.a.mark((function e(a,n,r){var l=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!(l.length>3&&void 0!==l[3])||l[3])){e.next=5;break}return e.next=4,t.getSeason(a,n);case 4:t.animeJSON=e.sent;case 5:return e.next=7,t.getAnimelist(t.animeJSON,r,a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.getSeason=function(){var e=Object(h.a)(d.a.mark((function e(a,n){var r,l,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.animecontroller.signal,e.prev=1,e.next=4,fetch("".concat("").concat(v,"v3/season/").concat(a,"/").concat(n,"/"),{signal:r}).then((function(e){return 429===e.status&&(t.animecontroller.abort(),console.log("Too many requests!")),e.ok||(t.animecontroller.abort(),console.error("Could not fetch!")),e}));case 4:return l=e.sent,e.next=7,l.json();case 7:return i=e.sent,e.abrupt("return",i.anime);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),this.getAnimelist=function(e,a,n){var r=[];for(var l in r.push(e.map((function(e){return e}))),r=r[0])r[l]={id:r[l].mal_id,title:r[l].title,airing:p.convertToJapanTime(r[l].airing_start),image:r[l].image_url.split(".jpg")[0]+".webp",studio:r[l].producers[0],members:r[l].members,titleArray:[]};return t.titlelist=r,t.getAnimeByMonth(a,n),!0},this.sortAnime=function(e,a){void 0===e&&(e=3),void 0===a&&(a=Object(g.a)(t.titlelist)),0===e?a.sort((function(e,t){return e.title>t.title?1:e.title<t.title?-1:0})):1===e?a.sort((function(e,t){return e.members>t.members?1:e.members<t.members?-1:0})):2===e?a.sort((function(e,t){return null===e.broadcast&&(e.broadcast.time="00:00"),null===t.broadcast&&(t.broadcast.time="00:00"),e.broadcast.time>t.broadcast.time?1:e.broadcast.time<t.broadcast.time?-1:0})):a.sort((function(e,t){return e.airing>t.airing?1:e.airing<t.airing?-1:0})),t.titlelist=Object(g.a)(a)},this.getAnimeByMonth=function(e,a){t.sortAnime(1);var n=Object(g.a)(t.titlelist).reverse(),r=[];r.length=p.getLastDayOfMonth(e,a),r=t.fillNewList(r);var l=new Date("01 ".concat(e," ").concat(a)).getTime(),i=new Date("".concat(p.getLastDayOfMonth(e,a)," ").concat(e," ").concat(a)).getTime();n.forEach((function(e,t){var a=new Date(e.airing).getTime();return a<=i&&a>=l&&(e.day=new Date(e.airing).getDate(),r[e.day-1].id?(r[e.day-1].multi=!0,r[e.day-1].titleArray.push(e)):r[e.day-1]=e,!0)})),t.titlelist=Object(g.a)(r)},this.fillNewList=function(e){var t=Object(g.a)(e);return t.fill({id:"",title:"",airing:"",image:"",studio:{name:""},multi:!1,titleArray:[]},0,t.length),t},this.testAnimeScissors=function(){var e=Object(h.a)(d.a.mark((function e(a,n,r){var l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.testGetSeason(a,n);case 2:return l=e.sent,e.next=5,t.testGetAnimelist(l,r,a);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),this.testGetSeason=function(){var e=Object(h.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("season is",a),e.prev=1,e.next=4,fetch("".concat(v,"v4-alpha/seasons/").concat(t,"/").concat(a,"/")).then((function(e){return 429===e.status&&console.log("Too many requests!"),e.ok||console.error("Could not fetch!"),e}));case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.data);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}(),this.testGetAnimelist=function(e,a,n){var r=[];for(var l in r.push(e.map((function(e){return e}))),r=r[0])r[l]={id:r[l].mal_id,title:r[l].title,title_jp:r[l].title_japanese,aired:r[l].aired,airing:p.convertToJapanTime(r[l].aired.from),image:r[l].images.webp.image_url,studio:r[l].studios[0],members:r[l].members,broadcast:r[l].broadcast,titleArray:[]};return t.titlelist=r,t.testGetAnimeByMonth(a,n),console.log("getAnimelist is ",r),!0},this.testGetAnimeByMonth=function(e,a){t.sortAnime(1);var n=Object(g.a)(t.titlelist).reverse(),r=[];r.length=p.getLastDayOfMonth(e,a),r=t.testFillNewList(r);var l=new Date("01 ".concat(e," ").concat(a)).getTime(),i=new Date("".concat(p.getLastDayOfMonth(e,a)," ").concat(e," ").concat(a)).getTime();n.forEach((function(e,t){var a=new Date(e.airing).getTime();return a<=i&&a>=l&&(e.day=e.aired.prop.from.day,r[e.day-1].id?(r[e.day-1].multi=!0,r[e.day-1].titleArray.push(e)):r[e.day-1]=e,!0)})),t.titlelist=Object(g.a)(r)},this.testFillNewList=function(e){var t=Object(g.a)(e);return t.fill({id:"",title:"",airing:"",image:"",studio:{name:""},multi:!1,titleArray:[],day:0},0,t.length),t},this.ongoingScissor=Object(h.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getOngoing();case 2:return a=e.sent,t.ongoing=a,t.ongoingToOngoinglist(a),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)}))),this.getOngoing=Object(h.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(v,"v4-alpha/schedules")).then((function(e){return 429===e.status&&console.log("Too many requests!"),e.ok||console.error("Could not fetch!"),e}));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.data);case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.ongoingToOngoinglist=function(e){var a=e,n=[];for(var r in console.assert(a===e,"oTo: templist is not equal with animelist"),a)if(n[r]=[],"unknown"!==r&&"other"!==r){for(var l in a[r])try{n[r][l]={id:a[r][l].mal_id,title:a[r][l].title,title_jp:a[r][l].title_japanese,aired:a[r][l].aired,airing:p.convertToJapanTime(a[r][l].aired.from),image:a[r][l].image_url.split(".jpg")[0]+".webp",studio:a[r][l].studios[0],members:a[r][l].members,broadcast:a[r][l].broadcast,titleArray:[]}}catch(i){console.error(i)}t.sortAnime(2,n[r])}t.ongoing=n},this.getOngoingList=function(e){console.log("gOL al:",e);var a=Object(g.a)(e),n={Mondays:[],Tuesdays:[],Wednesdays:[],Thursdays:[],Fridays:[],Saturdays:[],Sundays:[],Unknown:[]};for(var r in a)a[r].broadcast?n[a[r].broadcast.day].push(a[r]):n.Unknown.push(a[r]);return console.log("getOngoingList",n),t.ongoing=n,!0}},_=function(e){return Object(n.useEffect)((function(){return document.body.classList.add("--overflow"),function(){document.body.classList.remove("--overflow")}}),[]),r.a.createElement("div",{"aria-label":"loading...",className:"Loading"},e.error.error?"Error has occurred(\u2565\ufe4f\u2565)":"(\u3063\u25d4\u25e1\u25d4)\u3063 \ud83c\udf5c",e.error.code?console.log(e.error.code):null)},D=a(16),w=a.n(D),N=r.a.memo((function(e){var t=Object(c.f)(),a="/malendar/ongoing"===Object(c.g)().pathname;return r.a.createElement("div",{"aria-label":"head navigation",className:"HeadContainer"},r.a.createElement("div",{className:"HeadContainer__DateNav"},e.withParams?r.a.createElement(r.a.Fragment,null,a?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:function(){return t.push("/malendar/".concat(e.changeDate(-1,!0)))},title:"Previous month"},r.a.createElement("img",{alt:"back-arrow",style:{transform:"rotate(180deg)"},src:w.a})),r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:function(){return t.push("/malendar/".concat(e.changeDate(1,!0)))},title:"Next month"},r.a.createElement("img",{alt:"fur-arrow",src:w.a}))),r.a.createElement("div",{"aria-label":"select month",className:"HeadContainer__DateNav_DateMonth",onClick:a?null:function(){return t.push("/malendar/".concat(e.monthClick(!0)))},title:a?"":"Click for random month"},e.date.month),r.a.createElement("div",{"aria-label":"select year",className:"HeadContainer__DateNav_DateYear",onClick:a?null:function(){return t.push("/malendar/".concat(e.yearClick(!0)))},title:a?"":"Click for random year"},e.date.year)):r.a.createElement(r.a.Fragment,null,a?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:e.changeDate.bind(void 0,-1),title:"Previous month"},r.a.createElement("img",{alt:"back-arrow",style:{transform:"rotate(180deg)"},src:w.a})),r.a.createElement("button",{tabIndex:"0",className:"HeadContainer__Button",onClick:e.changeDate.bind(void 0,1),title:"Next month"},r.a.createElement("img",{alt:"fur-arrow",src:w.a}))),r.a.createElement("div",{"aria-label":"select month",className:"HeadContainer__DateNav_DateMonth",onClick:a?null:e.monthClick,title:a?null:"Click for random month"},e.date.month),r.a.createElement("div",{"aria-label":"select year",className:"HeadContainer__DateNav_DateYear",onClick:a?null:e.yearClick,title:a?null:"Click for random year"},e.date.year))),r.a.createElement("div",{"aria-label":"select if you want to see ongoing or new releases",className:"HeadContainer__ReleaseNav"},r.a.createElement(o.c,{"aria-label":"Ongoing page (beta)",className:"padding-left",exact:!0,to:"/malendar/ongoing",activeClassName:"HeadContainer__ReleaseNav--active",title:"Ongoing page (beta)"},"Ongoing"),r.a.createElement(o.c,{strict:!0,"aria-label":"New Releases",className:"padding-right",to:"/malendar/".concat(e.date.year).concat("/"+e.date.month),activeClassName:"HeadContainer__ReleaseNav--active",title:"New Releases (pages mode)"},"New releases")))})),O=function(e){var t=Object(n.useState)(null),a=Object(f.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=new Image;try{t.src=e,t.onload=function(){return l(e)}}catch(a){console.log(a)}}),[e]),r};var k=function(e,t){var a=r.a.useState((function(){var a=window.localStorage.getItem(t);return null!==a?JSON.parse(a):e})),n=Object(f.a)(a,2),l=n[0],i=n[1];return r.a.useEffect((function(){window.localStorage.setItem(t,JSON.stringify(l))}),[t,l]),[l,i]},S=r.a.memo((function(e){var t=e.ani,a=Object(f.a)(e.month,2),n=a[0],l=a[1],i=k(t.image,t.id),o=Object(f.a)(i,1)[0],c=O(t.image.split(".webp")[0]+"l.webp"),s={background:"linear-gradient(180deg, rgba(0,0,0,0) 0%, #0E0E0E 105%), url(".concat(t?c||o:"",") center center / cover no-repeat")};return r.a.createElement("section",{"aria-label":t.id?"[".concat(t.id,"] Anime is ").concat(t.title,", their airing date is ").concat(t.airing):"",className:"Days__Day ".concat(t.day&&"string"!==typeof t.day||!e.shouldMulti?"":"Days__Day--filledDay"," ").concat(e.id>n.getLastDayOfMonth(l.getCurrentYear(),n.getCurrentMonth())?"--hidden":""),style:t.image?s:null,onClick:function(){t.id&&window.open("https://myanimelist.net/anime/".concat(t.id),"_blank")},rel:"nofollow noreferer",itemType:"Anime",itemScope:!0},r.a.createElement("div",{className:"Days__Day_Notificators"},r.a.createElement("time",{className:"Days__Day_DayNum ".concat(parseInt(e.id)===e.today?"Days__Day_DayNum--mToday":""),dateTime:t.airing,itemType:"startDate"},t.day&&"string"!==typeof t.day?t.day.toString().padStart(2,"0"):e.id),t.multi&&e.shouldMulti?r.a.createElement("div",{itemType:"alsoThisDay",className:"Days__Day_DayNum Days__Day_DayNum--MultititleNotification",onClick:function(t){t.stopPropagation(),e.changeMV()},title:"+ ".concat(t.titleArray.length," anime this day")},"+"+t.titleArray.length):null,e.shouldMulti?null:r.a.createElement("div",{itemType:"alsoThisDay",className:"Days__Day_DayNum Days__Day_DayNum--MultititleNotification",title:"Time of broadcast is ".concat(t.broadcast.time)},t.broadcast.time)),r.a.createElement("div",{className:"Days__Day_CardTitle"},r.a.createElement("div",{className:"Days__Day_CardTitle--DayTitle",itemType:"name"},t?t.title:"\u7537\u5b50\u9ad8\u6821\u751f\u3067\u58f2\u308c\u3063\u5b50\u30e9\u30a4\u30c8\u30ce\u30d9\u30eb\u4f5c\u5bb6\u3092\u3057\u3066\u3044\u308b\u3051\u308c\u3069\u3001\u5e74\u4e0b\u306e\u30af\u30e9\u30b9\u30e1\u30a4\u30c8\u3067\u58f0\u512a\u306e\u5973\u306e\u5b50\u306b\u9996\u3092\u7d5e\u3081\u3089\u308c\u3066\u3044\u308b! The Animation 2nd Season"),r.a.createElement("div",{className:"Days__Day_CardTitle--DaySubtitle",itemType:"productionCompany"},t.studio?t.studio.name:"Studio is currently unknown")))})),C=function(e){return r.a.createElement("div",{className:"MultiDay"},r.a.createElement("h1",{className:"MultiDay__Header"},"More for ",new Date(e.date).getDate()," ",p.months[new Date(e.date).getMonth()]+" ",new Date(e.date).getFullYear()),r.a.createElement("div",{className:"MultiDay__Titles"},e.titles.map((function(t,a){return r.a.createElement("div",{className:"Days__DayContainer",key:a},r.a.createElement(S,{id:(a+1).toString().padStart(2,"0"),key:e.titles.id,ani:e.titles[a],month:[p,b],today:(new Date).getDate(),shouldMulti:!0}))}))))},j=function(e){return r.a.createElement("div",{className:"Days__Day Days__Day--filledDay","aria-label":"There is no anime for this day"},r.a.createElement("div",{className:"Days__Day_Notificators"},r.a.createElement("time",{className:"Days__Day_DayNum Days__Day_DayNum--filledDay ".concat(parseInt(e.id)===e.today?"Days__Day_DayNum--mToday":"")},e.id?e.id:"")),r.a.createElement("div",{className:"Days__Day_CardTitle"},r.a.createElement("div",{className:"Days__Day_CardTitle--DayTitle",itemType:"name"}," "),r.a.createElement("div",{className:"Days__Day_CardTitle--DaySubtitle",itemType:"productionCompany"},"  ")))},M=r.a.memo((function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),l=a[0],i=a[1],o=Object(n.useRef)(!1),c=e.month,s=e.i,u=e.titles,m=e.filler,d=null;Object(n.useEffect)((function(){return u[s].multi&&e.shouldMulti&&(o.current=!0,o.current&&h(!1)),function(){return o.current=!1}}),[c]);var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;i(void 0!==e?e:!l)};return u[s].multi&&e.shouldMulti&&(d=r.a.createElement(C,{date:u[s].airing,titles:u[s].titleArray,MV:l,key:u[s].id+"_"+l.toString()})),r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"Days__DayContainer ".concat(u[s].day&&"string"!==typeof u[s].day||!e.shouldMulti?"":"Days__Day--filledDay"),key:"Container__"+s},u[s].id?r.a.createElement(S,{id:m?" ":(s+1).toString().padStart(2,"0"),key:u[s].id,ani:u[s],month:[p,b],today:(new Date).getDate(),changeMV:h,shouldMulti:e.shouldMulti}):r.a.createElement(j,{id:m?" ":(s+1).toString().padStart(2,"0"),today:(new Date).getDate()})),l?d:"")})),x=function(){var e=Object(n.useState)({}),t=Object(f.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){var e=!0;function t(){return(t=Object(h.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}return t.prev=1,t.next=4,E.ongoingScissor();case 4:return t.next=6,l((function(e){return E.ongoing}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("Ongoing: error:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),console.log("Ongoing updated!"),document.title="malendar for current ongoings",function(){return e=!1}}),[]);var i=[],o=function(e){i[e]=a[e].map((function(t,n){return r.a.createElement(M,{i:n,titles:a[e],key:"DayContainer__"+n,filler:!1,month:"July",shouldMulti:!1})}))};for(var c in a)o(c);return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"Ongoing_Day"},i.monday),r.a.createElement("ul",{className:"Ongoing_Day"},i.tuesday),r.a.createElement("ul",{className:"Ongoing_Day"},i.wednesday),r.a.createElement("ul",{className:"Ongoing_Day"},i.thursday),r.a.createElement("ul",{className:"Ongoing_Day"},i.friday),r.a.createElement("ul",{className:"Ongoing_Day"},i.saturday),r.a.createElement("ul",{className:"Ongoing_Day"},i.sunday))},T=r.a.memo((function(e){var t=Object(c.g)(),a=Object(c.h)(),l=a.navYear,i=a.navMonth,o=Object(n.useState)([]),s=Object(f.a)(o,2),m=s[0],y=s[1],v=Object(n.useState)({month:p.getCurrentMonth(),year:2020}),D=Object(f.a)(v,2),w=D[0],O=D[1],k=Object(n.useState)(!1),S=Object(f.a)(k,2),C=S[0],T=S[1],L=Object(n.useState)({error:!1,code:""}),F=Object(f.a)(L,2),J=F[0],H=F[1],I=Object(n.useState)([]),R=Object(f.a)(I,2),B=R[0],Y=R[1],W=Object(n.useRef)(!1),P=Object(n.useRef)({});Object(n.useEffect)((function(){if(JSON.stringify(P.current)!==JSON.stringify(w)){var e="",a=0;e!==p.getCurrentMonth()&&(e=p.getCurrentMonth()),a!==b.getCurrentYear()&&(a=b.getCurrentYear()),l&&l>=1917&&l<=2022&&i&&(e=i.charAt(0).toUpperCase()+i.slice(1),a=parseInt(l)),w.month===e&&w.year===a||O((function(t){return{month:e,year:a}})),console.log("Container updated!")}else"/malendar/ongoing/"!==t.pathname&&O((function(e){return{month:p.getCurrentMonth(),year:b.getCurrentYear()}}))}),[t.pathname]),Object(n.useEffect)((function(){function e(){var e=[],t=p.getFirstWeekDayOfMonth(w.month,w.year)-1;return t<0&&(t=6),e.length=t,e=E.fillNewList(e,{day:" "}),B.length!==e.length&&Y((function(t){return Object(g.a)(e)})),e}function a(){return(a=Object(h.a)(d.a.mark((function a(){var n;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(U(!0),n=!0,a.prev=2,JSON.stringify(P.current)===JSON.stringify(w)){a.next=11;break}if(p.getSeasonByMonth(w.month)===p.getSeasonByMonth(P.current.month)&&w.year===P.current.year&&(n=!1,console.assert(p.getSeasonByMonth(w.month),p.getSeasonByMonth(P.current.month))),!(w.year>1900&&w.year<2025)){a.next=8;break}return a.next=8,E.animeScissors(w.year,p.getSeasonByMonth(w.month),w.month,n);case 8:return a.next=10,y((function(e){return Object(g.a)(E.titlelist)}));case 10:P.current=w;case 11:W.current&&e(),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(2),H({error:!0,code:a.t0});case 17:"/malendar/ongoing"!==t.pathname&&(document.title="malendar for ".concat(w.month," ").concat(w.year)),U(!1);case 19:case"end":return a.stop()}}),a,null,[[2,14]])})))).apply(this,arguments)}return W.current=!0,W.current&&function(){a.apply(this,arguments)}(),function(){return W.current=!1}}),[w]);var U=function(e){e?(T(!0),H({error:!1,code:""})):T(!1)};return r.a.createElement("main",{className:"Container"},r.a.createElement(N,{monthClick:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=p.getRandomMonth(w);if(O(Object(u.a)(Object(u.a)({},w),{},{month:t})),e)return w.year+"/"+t;console.log("Current season is",p.getSeasonByMonth(w.month))},yearClick:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=b.getRandomYear(w);if(O(Object(u.a)(Object(u.a)({},w),{},{year:t})),e)return t+"/"+w.month},date:w,changeDate:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("January"===w.month&&e<0){if(O({month:"December",year:parseInt(w.year)-1}),t)return parseInt(w.year)-1+"/December"}else if("December"===w.month&&e>0){if(O({month:"January",year:parseInt(w.year)+1}),t)return parseInt(w.year)+1+"/January"}else if(O(Object(u.a)(Object(u.a)({},w),{},{month:p.months[p.months.findIndex((function(e){return e===w.month}))+e]})),t)return parseInt(w.year)+"/"+p.months[p.months.findIndex((function(e){return e===w.month}))+e]},withParams:!(!l||!i)}),C||J.error?r.a.createElement(_,{error:J}):null,r.a.createElement("ol",{className:"Days"},r.a.createElement(A,null),r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/malendar/ongoing"},r.a.createElement(x,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/:navYear/:navMonth"},B.map((function(e,t){return r.a.createElement("li",{className:"Days__DayContainer Days__Day--filledDay",key:"Container__"+t},r.a.createElement(j,{key:"DayPlaceholder__"+t}))})),m.map((function(e,t){return r.a.createElement(M,{i:t,titles:m,key:"DayContainer__"+t,filler:!1,month:w.month,shouldMulti:!0})}))),r.a.createElement(c.a,{exact:!0,path:"/malendar/"},B.map((function(e,t){return r.a.createElement("li",{className:"Days__DayContainer Days__Day--filledDay",key:"Container__"+t},r.a.createElement(j,{key:"DayPlaceholder__"+t}))})),m.map((function(e,t){return r.a.createElement(M,{i:t,titles:m,key:"DayContainer__"+t,filler:!1,month:w.month,shouldMulti:!0})}))))))})),A=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{id:"Monday"},"M"),r.a.createElement("li",{id:"Tuesday"},"T"),r.a.createElement("li",{id:"Wednesday"},"W"),r.a.createElement("li",{id:"Thursday"},"T"),r.a.createElement("li",{id:"Friday"},"F"),r.a.createElement("li",{id:"Saturday"},"S"),r.a.createElement("li",{id:"Sunday"},"S"),r.a.createElement("li",{id:"Hiddenday_1"}," "),r.a.createElement("li",{id:"Hiddenday_2"}," "))},L=T,F=function(){var e=Object(n.useState)(0),t=Object(f.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){!function(){var e=Object(h.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://malendar.herokuapp.com/v3/anime/1").then((function(e){return e.status.toString()}));case 2:t=e.sent,l((function(e){return t}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]),r.a.createElement("main",{className:"Container About"},r.a.createElement("h1",null,r.a.createElement("span",{role:"img","aria-label":"narutomaki is a symbol of malendar"},"\ud83c\udf65"),"malendar",r.a.createElement("span",{role:"img","aria-label":"narutomaki is a symbol of malendar"},"\ud83c\udf65")),r.a.createElement("section",null,r.a.createElement("p",null,"Malendar is a web-application that allows you to see calendar for upcoming (and past) anime releases!")),r.a.createElement("section",null,"Server status: ",a))},J=(a(41),function(){return r.a.createElement("div",{className:"News"},r.a.createElement("h1",null,"What's new?"),r.a.createElement("section",null,r.a.createElement("h2",null,"07.20.2020 update"),r.a.createElement("ul",null,r.a.createElement("h3",null,"Features: "),r.a.createElement("li",null,"Images are now in webp formats"),r.a.createElement("li",null,"Ongoing page (beta)"),r.a.createElement("li",null,"Slightly different behaviour of weekdays"),r.a.createElement("h3",null,"Bugfixes: "),r.a.createElement("li",null,"Today's date was fixed"),r.a.createElement("li",null,"Some visual bug fixes"),r.a.createElement("h3",null,"In nearest future: "),r.a.createElement("li",null,"Correct Ongoing page"),r.a.createElement("li",null,"About page"),r.a.createElement("li",null,"Light theme"))),r.a.createElement("section",null,r.a.createElement("h2",null,"07.17.2020 update"),r.a.createElement("ul",null,r.a.createElement("h3",null,"Features: "),r.a.createElement("li",null,r.a.createElement("b",null,"Slightly beautiful 404 page")),r.a.createElement("li",null,"Navigation between /yy/mm/ pages should be more correct since now"),r.a.createElement("li",null,"Random dates should work as intended"),r.a.createElement("h3",null,"Bugfixes: "),r.a.createElement("li",null,"Fixed bug with invalid behaviour of multititles (Issue #1)"),r.a.createElement("li",null,"Fixed bug with missed days numbers"),r.a.createElement("li",null,"Some behaviour with loading/error screen was also fixed"),r.a.createElement("h3",null,"In nearest future: "),r.a.createElement("li",null,"Ongoing page"),r.a.createElement("li",null,"About page"),r.a.createElement("li",null,"Light theme"))),r.a.createElement("section",null,r.a.createElement("h2",null,"07.15.2020 update"),r.a.createElement("ul",null,r.a.createElement("h3",null,"Features: "),r.a.createElement("li",null,"Implemented header navigation"),r.a.createElement("li",null,"Added weekdays and w-d marks"),r.a.createElement("li",null,"You can open exact date using links: ",r.a.createElement("br",null),r.a.createElement("small",null,"https://shrmnn.github.io/malendar/1999/January for example; ",r.a.createElement("br",null),r.a.createElement("del",null,"Doesn't work for random dates (yet)"))),r.a.createElement("h3",null,"Bugfixes: "),r.a.createElement("li",null,"Fixed bug with macOS bounce scroll background color"),r.a.createElement("li",null,"Fixed bug with incorrect number of days per month"),r.a.createElement("h3",null,"In nearest future: "),r.a.createElement("li",null,"Ongoing page"),r.a.createElement("li",null,"About page"),r.a.createElement("li",null,r.a.createElement("del",null,"Slightly beautiful 404 page")))))}),H=(a(42),a(25)),I=a.n(H),R=r.a.memo((function(){var e=k(!0,"toggled"),t=Object(f.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){a?document.documentElement.classList.remove("blue"):document.documentElement.classList.add("blue")}),[a]);return r.a.createElement("footer",{className:"Footer"},r.a.createElement("div",{"aria-label":"Author of site is Alex Shermann, made in 2020",className:"Footer__Right"},"malendar [2020] Alex Shermann"),r.a.createElement("div",{className:"Footer__Left"},r.a.createElement("p",{"aria-label":"Site is recommended for 18+",className:"marker",title:"Site is recommended for 18+"},"18+"),r.a.createElement("img",{alt:"change theme","aria-label":"change theme",height:"32",width:"32",src:I.a,onClick:function(){l(!a)},className:a?"Footer__Left--toggled":""}),r.a.createElement("a",{"aria-label":"Link to github",href:"https://github.com/shrmnn/malendar",target:"_blank",rel:"noopener noreferrer",title:"GitHub"},r.a.createElement("img",{alt:"github link","aria-label":"github link",height:"32",width:"32",className:"Footer__Left--github",src:"https://unpkg.com/simple-icons@v3/icons/github.svg"}))))})),B=(a(43),a(44),a(26)),Y=a.n(B),W=function(){Object(n.useEffect)((function(){document.title="404. You shall (not) find";var e=document.querySelector(".Header");return e.classList.add("--shadow"),function(){e.classList.remove("--shadow")}}),[]);var e="https://shrmnn.github.io/malendar/"+b.getRandomYear(2020)+"/"+p.getRandomMonth("January");return r.a.createElement("div",{className:"FourZeroFour"},r.a.createElement("div",null),r.a.createElement("h1",null,"fourzerofour      fourzerofouru"),r.a.createElement("h2",{title:"Page not found"},"\u304a\u3057\u3048\u3066 \u304a\u3057\u3048\u3066 \u3088\t \t\u30da\u30fc\u30b8\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"),r.a.createElement("a",{"aria-label":"Link to random page. Maybe it would be better than 404 page",title:"What about random page?",href:e},r.a.createElement("img",{alt:"404 error",src:Y.a})))},P=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(s,null),r.a.createElement("div",{className:"Content"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/malendar/about"},r.a.createElement(F,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/news"},r.a.createElement(J,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/ongoing"},r.a.createElement(L,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/:navYear/:navMonth"},r.a.createElement(L,null)),r.a.createElement(c.a,{exact:!0,path:"/malendar/"},r.a.createElement(L,null)),r.a.createElement(c.a,null,r.a.createElement(W,null))),r.a.createElement(R,null))))},U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function G(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/malendar",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/malendar","/service-worker.js");U?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):G(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):G(t,e)}))}}()}],[[27,1,2]]]);
//# sourceMappingURL=main.8ed90d6d.chunk.js.map